<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" href="popup.css">
  <style>
    body { width: 320px; }
    .app-banner { width: 100%; height: auto; display: block; margin-bottom: 10px; border-radius: 4px; }
    h2 { margin-top: 5px; }
    
    /* Advanced toggle (inline styles kept simple) */
    #toggleAdvanced { display: inline-block; margin: 8px 10px; padding: 6px 10px; font-size: 12px; border: 1px solid #ddd; border-radius: 4px; background: #fafafa; cursor: pointer; }
    
    textarea { width: 100%; height: 60px; box-sizing: border-box; resize: vertical; margin-top: 5px; font-family: monospace; font-size: 11px; }
    .selector-group { margin-bottom: 15px; }
    .selector-label { font-weight: bold; font-size: 0.9em; display: block; }
    .selector-note { font-size: 0.8em; color: #666; margin-bottom: 5px; }
  </style>
</head>
<body>
  <div class="banner-container">
    <!-- Replace this SVG with your own 'banner.png' or 'banner.jpg' if desired -->
    <img src="assets/logo-banner-colored.png" alt="Instergater Banner" class="app-banner">
  </div>
  <h2 style="margin-bottom: 0;">Instergater</h2>
  <div style="text-align: center; color: #888; margin-bottom: 15px; font-size: 0.8em;">
    <span id="versionDisplay">v1.1</span>
  </div>

  <div id="update-container" class="update-notice" style="display:none; margin: 0 10px 15px 10px;"></div>
  
  <button id="toggleAdvanced" aria-expanded="false">Show Advanced Options</button>

  <div id="main">
  
  <div class="section">
    <div class="section-title">Addiction Control</div>
    <label>
      <input type="checkbox" id="enableDelay">
      Block feed for <input type="number" id="blockFeedDuration" placeholder="3" min="1" max="60" style="width: 40px; margin: 0 5px;"> seconds on load
    </label>
    <label>
      <input type="checkbox" id="enableScrollLimit">
      Limit scrolling
    </label>
    <input type="number" id="maxPosts" placeholder="Max posts (e.g. 20)">
    <input type="number" id="resetInterval" placeholder="Reset posts every X hours (e.g. 1)" min="0.1" step="0.1">
  </div>

  <div class="section">
    <div class="section-title">Content Blocking</div>
    <label>
      <input type="checkbox" id="enableKeywordBlock">
      Block posts by keyword
    </label>
    <input type="text" id="keywords" placeholder="influencer, ad, viral (comma sep)">
  </div>

  <div class="section">
    <div class="section-title">Minimalist UI</div>
    <label><input type="checkbox" id="hideLikes"> Hide Like Counts/Buttons</label>
    <label><input type="checkbox" id="hideShare"> Hide Share Button</label>
    <label><input type="checkbox" id="hideComments"> Hide Comments</label>
    <label><input type="checkbox" id="hideReels"> Hide Reels Button</label>
    <label><input type="checkbox" id="hideSave"> Hide Save Button</label>
    <label><input type="checkbox" id="hideMoreOptions"> Hide More Options</label>
    <label><input type="checkbox" id="hideExplore"> Hide Explore Button</label>
    <label><input type="checkbox" id="hideExplorer"> Hide Explorer Button</label>
    <label><input type="checkbox" id="hideNotifications"> Hide Notifications Button</label>
    <label><input type="checkbox" id="hideMessages"> Hide Messages Button</label>
    <label><input type="checkbox" id="hideMoreNav"> Hide More Button</label>
  </div>

  <div class="section">
    <div class="section-title">Utilities</div>
    <label>
      <input type="checkbox" id="enableDownload">
      Enable Media Download
    </label>
    <label>
      <input type="checkbox" id="enableStatusCheck">
      Show "Running" notification
    </label>
    <label>
      <input type="checkbox" id="disableUpdateCheck">
      Disable update notifications
    </label>
    <label>
      <input type="checkbox" id="blockVideoTabs">
      Close tabs opened by video clicks
    </label>
  </div> <!-- End of Main Tab -->

  <div id="advanced" style="display:none">
    <div class="section">
        <div class="section-title">Custom Selectors</div>
        <p class="selector-note">Override default CSS selectors. Leave blank to use defaults. Separate multiple selectors with commas.</p>
        
        <div class="selector-group">
            <span class="selector-label">Post Container (Article)</span>
            <textarea id="selectorPost" placeholder="article, main[role='main']"></textarea>
        </div>

        <div class="selector-group">
            <span class="selector-label">Like Button (SVG)</span>
            <textarea id="selectorLike" placeholder='svg[aria-label="Like"]'></textarea>
        </div>

        <div class="selector-group">
            <span class="selector-label">Share Button (SVG)</span>
            <textarea id="selectorShare" placeholder='svg[aria-label="Share Post"]'></textarea>
        </div>

        <div class="selector-group">
            <span class="selector-label">Comment Button (SVG)</span>
            <textarea id="selectorComment" placeholder='svg[aria-label="Comment"]'></textarea>
        </div>

      <div class="selector-group">
        <span class="selector-label">Save Button (SVG)</span>
        <textarea id="selectorSave" placeholder='svg[aria-label="Save"], svg[aria-label="Remove"]'></textarea>
      </div>

      <div class="selector-group">
        <span class="selector-label">More Options (SVG)</span>
        <textarea id="selectorMore" placeholder='svg[aria-label="More options"]'></textarea>
      </div>

      <div class="selector-group">
        <span class="selector-label">Reels Nav (Link/SVG)</span>
        <textarea id="selectorReelsNav" placeholder='a[href*="/reels"], a[aria-label="Reels"], svg[aria-label="Reels"]'></textarea>
      </div>

      <div class="selector-group">
        <span class="selector-label">Explore Nav (Link/SVG)</span>
        <textarea id="selectorExploreNav" placeholder='a[aria-label="Explore"], svg[aria-label="Explore"], a[href="/explore/"]'></textarea>
      </div>

      <div class="selector-group">
        <span class="selector-label">Explorer Nav (Link/SVG)</span>
        <textarea id="selectorExplorerNav" placeholder='a[aria-label*="Explore"], svg[aria-label*="Explore"]'></textarea>
      </div>

      <div class="selector-group">
        <span class="selector-label">Notifications Nav (Link/SVG)</span>
        <textarea id="selectorNotificationsNav" placeholder='a[aria-label="Notifications"], svg[aria-label="Notifications"]'></textarea>
      </div>

      <div class="selector-group">
        <span class="selector-label">Messages Nav (Link/SVG)</span>
        <textarea id="selectorMessagesNav" placeholder='a[aria-label*="Message"], svg[aria-label*="Messenger"]'></textarea>
      </div>

      <div class="selector-group">
        <span class="selector-label">More Nav (Link/SVG)</span>
        <textarea id="selectorMoreNav" placeholder='button[aria-label="More"], svg[aria-label="More"]'></textarea>
      </div>

      <div class="selector-group">
        <span class="selector-label">Custom Hide Selectors (Global)</span>
        <textarea id="customHideSelectors" placeholder='Enter CSS selectors to hide, comma-separated'></textarea>
      </div>
    </div>
  </div>

  <div class="status" id="status"></div>
  
  <button id="resetCounter" style="background-color: #e0e0e0; color: black; margin-bottom: 8px;">Reset Post Counter</button>
  <button id="resetDefaults" style="background-color: #ffcccc; color: #cc0000; margin-bottom: 8px;">Reset To Defaults</button>
  <button id="save">Save Settings</button>
  
  <script src="popup.js"></script>
</body>
</html>
